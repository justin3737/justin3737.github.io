{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/react-redux-messageboard-1-2/","result":{"data":{"site":{"siteMetadata":{"title":"Chasing lights and shadows","author":"Justin Wu"}},"mdx":{"id":"8fd11cd7-67d3-51dd-8fbd-a4ccc29a4b10","excerpt":"Store 在redux 中只有一個 store Redux 有提供 createStore() 的方法來做出store 單一reducers 建立 store： 官方提供一個方法可以把多個reducer 結合在一起： combineReducers() 最後再交給 createStore…","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"學習Redux — 1 右上角按下[留言]的按鈕, 在modal內顯示留言的輸入框(下)\",\n  \"cover\": \"./0_VxR_oAY332hgViPe.png\",\n  \"date\": \"2016-03-12\",\n  \"description\": \"每次學習新東西都是寫Todo list實在太無趣了，這是我個人redux學習紀錄：使用react與redux開發一個留言板，並且把相關程式碼放在github上供參考\",\n  \"categories\": \"coding\",\n  \"tags\": [\"react\", \"redux\", \"js\", \"javascript\", \"front-end\", \"前端\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", null, \"Store\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5728redux \\u4E2D\\u53EA\\u6709\\u4E00\\u500B store\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Redux \\u6709\\u63D0\\u4F9B createStore() \\u7684\\u65B9\\u6CD5\\u4F86\\u505A\\u51FAstore\"))), mdx(\"p\", null, \"\\u55AE\\u4E00reducers \\u5EFA\\u7ACB store\\uFF1A\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"0\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import { createStore } from 'redux';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import msgApp from './reducers';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    const store = createStore(msgApp);\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5B98\\u65B9\\u63D0\\u4F9B\\u4E00\\u500B\\u65B9\\u6CD5\\u53EF\\u4EE5\\u628A\\u591A\\u500Breducer \\u7D50\\u5408\\u5728\\u4E00\\u8D77\\uFF1A combineReducers()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6700\\u5F8C\\u518D\\u4EA4\\u7D66 createStore() \\u8655\\u7406\"))), mdx(\"p\", null, \"\\u591A\\u500B reducers \\u6642\\u5EFA\\u7ACB store \\u7684\\u65B9\\u5F0F:\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"1\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"import { combineReducers } from 'redux';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"import modals from './modals';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"import lists from './lists';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"const msgApp = combineReducers({\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    modals,\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    lists\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"});\"))), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u900F\\u904Estore.getState() \\u53D6\\u56DE\\u6574\\u500B state:\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"2\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"const state = store.getState();\"))), mdx(\"h3\", null, \"\\u8207View\\u7D50\\u5408\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"react-redux \\u63D0\\u4F9B\\u4E86 Provider \\u5143\\u4EF6\\u8207 connect \\u65B9\\u6CD5\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Provider \\u662F\\u4F7F\\u7528\\u5728\\u61C9\\u7528\\u7A0B\\u5F0F\\u7684\\u6839\\u5143\\u4EF6\\u5167\\uFF0C\\u8CA0\\u8CAC\\u5C07\\u552F\\u4E00\\u7684 store \\u50B3\\u4E0B\\u53BB\\u7D66\\u5176\\u4ED6\\u5B50\\u5143\\u4EF6\\u3002\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u958B\\u555F ./src/app.js\"))), mdx(\"p\", null, \"\\u4F7F\\u7528 Provider\\uFF1A\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"3\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import React from 'react';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import { render } from 'react-dom';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import { Provider } from 'react-redux';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import msgApp from './reducers';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import AppContainer from './containers/AppContainer';\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    render(\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        <Provider store={store}>\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"            <AppContainer />\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        </Provider>,\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        document.getElementById('root')\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    );\"))), mdx(\"p\", null, \"\\u4F7F\\u7528 connect:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u6211\\u5011\\u53EF\\u4EE5\\u900F\\u904Econnet \\u628A\\u8981\\u7528\\u5230\\u7684state, actions \\u7D81\\u5B9A\\u5728\\u5143\\u4EF6\\u88E1\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5143\\u4EF6\\u5C31\\u53EF\\u4EE5\\u62FF\\u5230 props \\u4F86\\u4F7F\\u7528\"))), mdx(\"p\", null, \"\\u4F86\\u770B\\u4E00\\u4E0Bredux\\u5B98\\u7DB2\\u63D0\\u4F9B\\u7684connect\\u7684\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/reactjs/react-redux/blob/master/docs/api.md#inject-todos-and-a-specific-action-creator-addtodo\"\n  }, \"\\u7BC4\\u4F8B\"), \"\\uFF1A\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"4\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import { addTodo } from './actionCreators'\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    import { bindActionCreators } from 'redux'\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    function mapStateToProps(state) {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"      return { todos: state.todos }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    function mapDispatchToProps(dispatch) {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"      return bindActionCreators({ addTodo }, dispatch)\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    export default connect(mapStateToProps, mapDispatchToProps)(TodoApp)\"))), mdx(\"h3\", null, \"connect \\u4F7F\\u7528ES6 \\u7684\\u5BEB\\u6CD5\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"5\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    export default connect(\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        state => ({\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"             todos: state.todos\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        }),\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        dispatch => bindActionCreators({\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"            addTodo\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        }, dispatch)\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    )(TodoApp)\"))), mdx(\"h3\", null, \"\\u95DC\\u65BC bindActionCreators()\"), mdx(\"p\", null, \"-\\u53EF\\u4EE5\\u50B3\\u5165\\u591A\\u500B actions \\u7D66\\u5143\\u4EF6\\u7576\\u4F5C props \\u88AB\\u4F7F\\u7528\\n\\u4F8B\\u5982:\"), mdx(\"pre\", {\n    \"className\": \"grvsc-container default-dark\",\n    \"data-language\": \"\",\n    \"data-index\": \"6\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"grvsc-code\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    bindActionCreators({\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        updateMsg,\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        updateUser,\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"        addList\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"grvsc-line\"\n  }, \"    }\"))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Originally published at \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"https://github.com/justin3737/redux-message-board/issues/3\"\n  }, \"github.com\"), \".\")), mdx(\"br\", null), mdx(\"hr\", null), mdx(\"br\", null), mdx(\"h3\", null, \"React Redux\\u7559\\u8A00\\u7248\\u76F8\\u95DC\\u6587\\u7AE0\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-0-intro/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 Redux\\u7559\\u8A00\\u677F\\u5BE6\\u4F5C\\u529F\\u80FD\\u4ECB\\u7D39\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-1/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 1 \\u53F3\\u4E0A\\u89D2\\u6309\\u4E0B[\\u7559\\u8A00]\\u7684\\u6309\\u9215, \\u5728modal\\u5167\\u986F\\u793A\\u7559\\u8A00\\u7684\\u8F38\\u5165\\u6846(\\u4E0A)\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-1-2/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 1 \\u53F3\\u4E0A\\u89D2\\u6309\\u4E0B[\\u7559\\u8A00]\\u7684\\u6309\\u9215, \\u5728modal\\u5167\\u986F\\u793A\\u7559\\u8A00\\u7684\\u8F38\\u5165\\u6846(\\u4E0B)\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-2\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 2 \\u66F4\\u65B0\\u7559\\u8A00\\u8A0A\\u606F\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-3/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 3 \\u6309\\u4E0B[\\u78BA\\u8A8D] \\u65B0\\u589E\\u7559\\u8A00\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-4/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 4 \\u7559\\u8A00\\u5217\\u8868\\u66F4\\u65B0\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-5/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 5 \\u53EA\\u6709\\u81EA\\u5DF1\\u53EF\\u4EE5\\u522A\\u9664\\u81EA\\u5DF1\\u7684\\u7559\\u8A00\\uFF08\\u81EA\\u5DF1\\u7684\\u7559\\u8A00\\u624D\\u6709[x]\\u6309\\u9215\\uFF09\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-6/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 6 \\u6309\\u4E0B[X] \\u8DF3\\u51FAconfirm\\u8996\\u7A97, \\u8A62\\u554F\\u662F\\u5426\\u522A\\u9664\"), mdx(\"br\", null)), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    href: \"/blog/react-redux-messageboard-7-practice/\"\n  }, \"\\u5B78\\u7FD2Redux \\u2014 Message-board app \\u7DF4\\u7FD2\\u984C\"), mdx(\"br\", null))), mdx(\"style\", {\n    \"className\": \"grvsc-styles\"\n  }, \"\\n  .grvsc-container {\\n    overflow: auto;\\n    -webkit-overflow-scrolling: touch;\\n    padding-top: 1rem;\\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\\n    padding-bottom: 1rem;\\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\\n    border-radius: 8px;\\n    border-radius: var(--grvsc-border-radius, 8px);\\n    font-feature-settings: normal;\\n  }\\n  \\n  .grvsc-code {\\n    display: inline-block;\\n    min-width: 100%;\\n  }\\n  \\n  .grvsc-line {\\n    display: inline-block;\\n    box-sizing: border-box;\\n    width: 100%;\\n    padding-left: 1.5rem;\\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\\n    padding-right: 1.5rem;\\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\\n  }\\n  \\n  .grvsc-line-highlighted {\\n    background-color: var(--grvsc-line-highlighted-background-color, transparent);\\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, transparent);\\n  }\\n  \\n  .default-dark {\\n    background-color: #1E1E1E;\\n    color: #D4D4D4;\\n  }\\n\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"學習Redux — 1 右上角按下[留言]的按鈕, 在modal內顯示留言的輸入框(下)","date":"March 12, 2016","description":"每次學習新東西都是寫Todo list實在太無趣了，這是我個人redux學習紀錄：使用react與redux開發一個留言板，並且把相關程式碼放在github上供參考"}}},"pageContext":{"slug":"/react-redux-messageboard-1-2/","previous":{"fields":{"slug":"/react-redux-messageboard-1/"},"frontmatter":{"title":"學習Redux — 1 右上角按下[留言]的按鈕, 在modal內顯示留言的輸入框(上)"}},"next":{"fields":{"slug":"/react-redux-messageboard-2/"},"frontmatter":{"title":"學習Redux — 2 — 更新留言訊息"}}}},"staticQueryHashes":["63159454"]}